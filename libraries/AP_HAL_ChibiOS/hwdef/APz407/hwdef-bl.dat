# hw definition file for APzero hardware for AP4

MCU STM32F4xx STM32F407xx
APJ_BOARD_ID 256
OSCILLATOR_HZ 24000000
STM32_ST_USE_TIMER 5

FLASH_SIZE_KB 1024
FLASH_USE_MAX_KB 16
FLASH_RESERVE_START_KB 0
FLASH_BOOTLOADER_LOAD_KB 64

define HAL_USE_EMPTY_STORAGE 1
define HAL_STORAGE_SIZE 15360

USB_VENDOR 0x0483 # ST
USB_PRODUCT 0x5740
USB_STRING_MANUFACTURER "DronesYoung"
USB_STRING_PRODUCT "APZero"
USB_STRING_SERIAL  "%SERIAL%"

PC13 LED_RED OUTPUT OPENDRAIN HIGH # red
PC14 LED_BOOTLOADER OUTPUT OPENDRAIN HIGH # green
PC15 LED_ACTIVITY OUTPUT OPENDRAIN HIGH # blue
define HAL_LED_ON 0

# order of UARTs (and USB)
SERIAL_ORDER OTG1 USART1
PA10 USART1_RX USART1
PA9 USART1_TX USART1
PA11 OTG_FS_DM OTG1
PA12 OTG_FS_DP OTG1
PA15 VBUS INPUT OPENDRAIN
PA13 JTMS-SWDIO SWD
PA14 JTCK-SWCLK SWD

PB2     BARO_CS CS
PE10   BMIA_CS CS
PE12   BMIG_CS CS
PE15   QMI_CS CS
PA4     MPU9_CS CS
PD10 EXT2_CS CS
PD11 EXT1_CS CS
PE2   FLASH_CS CS
PE3   SDCARD_CS CS