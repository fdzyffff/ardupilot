# hw definition file for AProtor bootloader

MCU STM32F4xx STM32F405xx
APJ_BOARD_ID 253
OSCILLATOR_HZ 24000000
STM32_VDD 330U

FLASH_SIZE_KB 1024
FLASH_USE_MAX_KB 16
FLASH_RESERVE_START_KB 0
FLASH_BOOTLOADER_LOAD_KB 64
STM32_ST_USE_TIMER 5

define HAL_USE_EMPTY_STORAGE 1
define HAL_STORAGE_SIZE 15360

PC13 LED_RED OUTPUT OPENDRAIN HIGH # red
PC14 LED_BOOTLOADER OUTPUT OPENDRAIN HIGH # green
PC15 LED_ACTIVITY OUTPUT OPENDRAIN HIGH # blue
define HAL_LED_ON 0

USB_VENDOR 0x0483 # ST
USB_PRODUCT 0x5740
USB_STRING_MANUFACTURER "DronesYoung"
USB_STRING_PRODUCT "APZero"
USB_STRING_SERIAL  "%SERIAL%"

PA11 OTG_FS_DM OTG1
PA12 OTG_FS_DP OTG1
PC0 VBUS INPUT OPENDRAIN

PA13 JTMS-SWDIO SWD
PA14 JTCK-SWCLK SWD

define BOOTLOADER_BAUDRATE 57600
SERIAL_ORDER OTG1  USART1 USART6

PA9 USART1_TX USART1
PA10 USART1_RX USART1
PC6 USART6_TX USART6
PC7 USART6_RX USART6

PC5 BMIA_CS CS
PC4 BMIG_CS CS
PB12 ICM6_CS CS
PA4 FLASH_CS CS
PB2 SDCARD_CS CS