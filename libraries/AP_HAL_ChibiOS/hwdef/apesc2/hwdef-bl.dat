# hw definition file for APzM2 bootloader

MCU STM32F4xx STM32F405xx
APJ_BOARD_ID 253
OSCILLATOR_HZ 24000000
STM32_VDD 330U

FLASH_SIZE_KB 1024
FLASH_USE_MAX_KB 16
FLASH_RESERVE_START_KB 0

PC14 LED_BOOTLOADER OUTPUT LOW
define HAL_LED_ON 0

FLASH_BOOTLOADER_LOAD_KB 64
STM32_ST_USE_TIMER 5

define HAL_USE_EMPTY_STORAGE 1
define HAL_STORAGE_SIZE 15360

USB_VENDOR 0x0483 # ST
USB_PRODUCT 0x5740
USB_STRING_MANUFACTURER "DronesYoung"
USB_STRING_PRODUCT "APZero"
USB_STRING_SERIAL  "%SERIAL%"

PA11 OTG_FS_DM OTG1
PA12 OTG_FS_DP OTG1
PC0 VBUS INPUT OPENDRAIN

PA13 JTMS-SWDIO SWD
PA14 JTCK-SWCLK SWD

define BOOTLOADER_BAUDRATE 57600
SERIAL_ORDER OTG1  USART1 USART6

PA9 USART1_TX USART1
PA10 USART1_RX USART1
PC6 USART6_TX USART6
PC7 USART6_RX USART6

PC5 MPU_INT CS
PC4 MPU_CS CS

PB2 FLASH_CS CS
PB12 EXT_CS CS